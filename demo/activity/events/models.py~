from django.db import models
import datetime
from django.utils import timezone
from django.contrib.auth.models import User
from django import forms
from django.forms.widgets import DateTimeInput
# Create your models here.

class Events(models.Model):
	title = models.CharField(max_length=300)
	#location = models.CharField(max_length=300)
	#endtime=models.DateTimeField('End time')
	#location= models.CharField(max_length=300)
	brief_intro= models.TextField('Brief Introduction')
	poster=models.ImageField(upload_to='poster_images', blank=True)
	organizer= models.CharField(max_length=200)
	contact_email= models.EmailField(max_length=254)
	contact_phonenumber= models.CharField(max_length=20)
	capacity= models.IntegerField('Maximum number of people')
	age_limit= models.IntegerField('Age minimum limit')
	ticket=models.URLField()
	description=models.TextField()
	
	#EventsTime
	starttime= models.DateTimeField('Start time',widget=DateTimeInput)
	endtime=models.DateTimeField('End time',widget=DateTimeInput)

	#EventsCategory
	
	music=models.BooleanField(default=False)
	sports=models.BooleanField(default=False)
	food=models.BooleanField(default=False)
	party=models.BooleanField(default=False)
	arts=models.BooleanField(default=False)
	business=models.BooleanField(default=False)

	#EventsLocation
	location= models.CharField(max_length=300)

	#EventsPubdate
	pubdate= models.DateTimeField('Date published',null=True)
	def __unicode__(self):
		return self.title

class EventsCreater(models.Model):
	events= models.OneToOneField(Events)
	creater=models.ForeignKey(User)

class Engagement(models.Model):
	user = models.ForeignKey(User)
	event = models.ForeignKey(Events)
	engage_time = models.DateTimeField()
	is_engage = models.BooleanField(default = True)
	def __unicode__(self):
		return self.user_id

class Bookmark(models.Model):
	user = models.ForeignKey(User)
	event = models.ForeignKey(Events)
	is_favorite = models.BooleanField(default = True)
	def __unicode__(self):
		return self.event_id
